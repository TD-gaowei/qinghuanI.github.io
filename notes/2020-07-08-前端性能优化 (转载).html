<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端性能优化(转载) | 学习概念而不是语言</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.jpeg">
    <meta name="description" content="

减少静态资源的加载时间，主要包括html、css、js和图片文件等。静态资源的加载时间是前端性能最大的瓶颈(特别是图片)，现如今优化的手段也很丰富，以下简要列举几种常用的方法:

合并 css、js 文件，制作雪碧图: 减少 http 的请求次数，节省网络请求时间
静态资源 cdn 分发: 客户端可以通过最佳的网络链路加载静态资源
js、css 文件 ...">
    
    <link rel="preload" href="/assets/css/0.styles.7777dd8e.css" as="style"><link rel="preload" href="/assets/js/app.5c1ec460.js" as="script"><link rel="preload" href="/assets/js/8.0d09876a.js" as="script"><link rel="preload" href="/assets/js/17.75af9246.js" as="script"><link rel="preload" href="/assets/js/35.b6b8cf56.js" as="script"><link rel="prefetch" href="/assets/js/10.175c548e.js"><link rel="prefetch" href="/assets/js/11.0049b5aa.js"><link rel="prefetch" href="/assets/js/12.ef0e1441.js"><link rel="prefetch" href="/assets/js/13.401ef6f6.js"><link rel="prefetch" href="/assets/js/14.47046aa0.js"><link rel="prefetch" href="/assets/js/15.c57098a3.js"><link rel="prefetch" href="/assets/js/16.49850c50.js"><link rel="prefetch" href="/assets/js/18.36980c19.js"><link rel="prefetch" href="/assets/js/19.0029605e.js"><link rel="prefetch" href="/assets/js/20.a4bda0c0.js"><link rel="prefetch" href="/assets/js/21.93e4574a.js"><link rel="prefetch" href="/assets/js/22.76895c20.js"><link rel="prefetch" href="/assets/js/23.50083854.js"><link rel="prefetch" href="/assets/js/24.c493f762.js"><link rel="prefetch" href="/assets/js/25.53470e49.js"><link rel="prefetch" href="/assets/js/26.82767cce.js"><link rel="prefetch" href="/assets/js/27.ef4882a2.js"><link rel="prefetch" href="/assets/js/28.e8080dce.js"><link rel="prefetch" href="/assets/js/29.1fa03d7a.js"><link rel="prefetch" href="/assets/js/3.0003beae.js"><link rel="prefetch" href="/assets/js/30.5aac3a84.js"><link rel="prefetch" href="/assets/js/31.6988747a.js"><link rel="prefetch" href="/assets/js/32.b47aa45b.js"><link rel="prefetch" href="/assets/js/33.48cb0ec9.js"><link rel="prefetch" href="/assets/js/34.703ccfaf.js"><link rel="prefetch" href="/assets/js/36.92574574.js"><link rel="prefetch" href="/assets/js/37.90961a37.js"><link rel="prefetch" href="/assets/js/38.2d02863a.js"><link rel="prefetch" href="/assets/js/39.019e31c4.js"><link rel="prefetch" href="/assets/js/4.cfff3174.js"><link rel="prefetch" href="/assets/js/40.c1b1a7ac.js"><link rel="prefetch" href="/assets/js/5.f3da8cb0.js"><link rel="prefetch" href="/assets/js/6.b80ac16f.js"><link rel="prefetch" href="/assets/js/7.3a44df2f.js"><link rel="prefetch" href="/assets/js/9.8039887e.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.a77183a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7777dd8e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">学习概念而不是语言 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">首页</a></li><li class="nav-item"><a href="/tag/" class="nav-link">标签</a></li><li class="nav-item"><a href="/about/" class="nav-link">关于我</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">学习概念而不是语言 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">首页</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">标签</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">关于我</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div><div class="content__default"><h2 id="静态资源优化"><a href="#静态资源优化" class="header-anchor">#</a> 静态资源优化</h2> <p>减少静态资源的加载时间，主要包括<code>html</code>、<code>css</code>、<code>js</code>和图片文件等。静态资源的加载时间是前端性能最大的瓶颈(特别是图片)，现如今优化的手段也很丰富，以下简要列举几种常用的方法:</p> <ul><li>合并 <code>css</code>、<code>js</code> 文件，制作雪碧图: 减少 <code>http</code> 的请求次数，节省网络请求时间</li> <li>静态资源 cdn 分发: 客户端可以通过最佳的网络链路加载静态资源</li> <li><code>js</code>、<code>css</code> 文件压缩，图片压缩，gzip 压缩: 减少请求返回的数据量</li> <li>静态资源缓存机制</li> <li>权衡 dns 的查找</li></ul> <h2 id="接口访问优化"><a href="#接口访问优化" class="header-anchor">#</a> 接口访问优化</h2> <p>静态资源优化做好了，可以保证静态资源以一个较快的速度加载出来，然而，此时情况并没有完美，依然存在两个明显的问题:</p> <ol><li><p>静态资源加载完了，页面依然在 loading 中，用户依然还在等待。现如今 web 应用已经走过完全由 php 和 jsp 等后端脚本语言渲染界面的时代，ajax 异步加载数据的方式已经成为主流，各种前端的 mvc 框架层出不穷，现加载静态资源，再执行 JS 中的 ajax 请求到后台请求数据，重新渲染界面已经是一种通行方案，这样便出现了静态资源加载完成，页面可见，然后用户还需要等待数据的进度条情况(特别是接口访问速度慢的时候)</p></li> <li><p>用户点击任意一个按钮，进度条加载了半天，也没有响应。很多复杂的功能需要并行或者串行的请求很多接口才能完成，前端网络状况稍微差一点，给与用户的体验都极差</p></li></ol> <p>以上两个问题在网络情况优异，接口请求速度快的情况下都不是问题，然而终端如果是一个手机，常常连 wifi 都不能保证，3g/4g 的网络比较慢，所以优化的潜力是巨大的。</p> <h3 id="首屏直出、同构"><a href="#首屏直出、同构" class="header-anchor">#</a> 首屏直出、同构</h3> <p>对于上述问题，如果页面的初始化数据，在后端完成渲染，其他的用户交互使用 ajax 的方式完成，也就是传统意义上的首屏直出，就可以得到很好的解决</p> <p>这种介于完全后端渲染和完全 ajax 渲染的方式是一个不错的思路，但是在 node 出现之前，很多人宁愿容忍首屏加载的 loading 动画，也不愿意使用，为什么？因为前端和后端要维护两套模板，令人抓狂，node 出来之后，前后端都可以使用 js 语言，前后端同构(前端和后台公用模板代码)使得首屏直出重新拥有了生存的土壤，所以同构直出现。</p> <h3 id="接口合并"><a href="#接口合并" class="header-anchor">#</a> 接口合并</h3> <p>一个交互需要请求多个并行或串行接口实属正常，前端使用 3g/4g 等弱网络也着实是不可抗因素，所以最好的办法就是通过接口合并的方式来提高接口的访问速度</p> <p>后台提供的接口既有粒度、强行合并不合时宜，提供一个新的合并的接口也缺乏机动性(前端发现一个新的合并需求，就要求后端提供一个接口，后端有开发量不说，还得没完没了的发版)</p> <p>如果把接口合并的主动权交给前端，那情况将会好很多，前端是最接近战火的地方，最知道应该如何组合接口。</p> <h2 id="页面渲染速度优化"><a href="#页面渲染速度优化" class="header-anchor">#</a> 页面渲染速度优化</h2> <p>在页面不复杂、dom 层次不深的情况下，完成前两步的优化，就已经足够了。然而在复杂的页面上，却还有很大的优化空间，页面渲染速度的优化很大的程度上，依托程序员的个人编程素质，下面简要列举几点:</p> <ul><li>css 放在顶部: 优先渲染</li> <li>js 放在底部:避免阻塞</li> <li>减少 DOM 元素数量: 这个最能体现优化水平</li> <li>img 标签要设置宽高: 减少重绘重排</li> <li>...</li></ul> <p>另外，新晋前端框架<code>vue</code>、<code>react</code>，虚拟 DOM 的渲染方案，在内存中进行 DOM diff 比较，做到最小化的操作真实 DOM (操作真实的 DOM 常常会成为性能瓶颈)，能极大的提高渲染速度</p> <h2 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接</h2> <ul><li><a href="https://juejin.im/post/592d0f4ca0bb9f00570f4408" target="_blank" rel="noopener noreferrer">前端性能优化的三个维度<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/qinghuanI" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8>Privacy Policy</a></li><li class="copyright-item" data-v-3d9deeb8>Copyright© 2019-present qinghuanI</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5c1ec460.js" defer></script><script src="/assets/js/8.0d09876a.js" defer></script><script src="/assets/js/17.75af9246.js" defer></script><script src="/assets/js/35.b6b8cf56.js" defer></script>
  </body>
</html>
